# VEIL Server Configuration
# Copy this file to /etc/veil/server.conf and modify as needed

[server]
# Listen address and port
listen_address = 0.0.0.0
listen_port = 4433

# Run as daemon
daemon = false

# Enable verbose logging
verbose = false

[tun]
# TUN device settings
device_name = veil0
ip_address = 10.8.0.1
netmask = 255.255.255.0
mtu = 1400

[crypto]
# Pre-shared key file (32 bytes, binary)
# Generate with: head -c 32 /dev/urandom > /etc/veil/server.key
preshared_key_file = /etc/veil/server.key

[obfuscation]
# Obfuscation profile seed file (32 bytes, binary)
# Must match client configuration
# Generate with: head -c 32 /dev/urandom > /etc/veil/obfuscation.seed
profile_seed_file = /etc/veil/obfuscation.seed

[nat]
# External interface for NAT (internet-facing interface)
external_interface = eth0

# Enable IP forwarding and NAT
enable_forwarding = true

# Use MASQUERADE (true) or SNAT (false)
use_masquerade = true

# SNAT source IP (only used if use_masquerade = false)
# snat_source = 203.0.113.1

[sessions]
# Maximum number of concurrent clients
max_clients = 256

# Session timeout (seconds of inactivity before disconnect)
session_timeout = 300

# Session cleanup interval (seconds)
cleanup_interval = 60

[ip_pool]
# IP address pool for clients
start = 10.8.0.2
end = 10.8.0.254

[daemon]
# PID file location
pid_file = /var/run/veil-server.pid

# Log file (if empty, logs to syslog/stdout)
# log_file = /var/log/veil-server.log

# Drop privileges to this user/group after startup
# (Note: Must open TUN and configure NAT before dropping privileges)
# user = nobody
# group = nogroup
